# ティラノスクリプト用「オートルビプラグイン」β版

## ご注意！

**β版です！有料作品や長編作品への導入は考え直してください。**  
コードの整理もしていませんのでご了承ください。


## 概要

登録したルビを自動で振ります。
ログ・縦書き対応。

### 主な機能

- 連想配列で登録したルビを自動で振っていきます。
- メッセージ、キャラ名、glink、ptext、htmlタグで表示したテキスト対応。
- バックログにも入ります。
- 縦書き対応。
- `[ruby]` `[mc_ruby]` タグが優先されますが、`[ruby]` タグの場合、ログには自動で振ります。

### 出来ない事

- ルビ非対応にはできません。このptextにはルビ要らないとかは無理です。
- テキストとルビ間の調整はCSSで行ってください。
- 文字数で表示位置を自動で調整しています。フォントデザインによっては綺麗に位置調整出来ない場合があります。
- 単語毎の位置調整はでき無い事もないですが…考え中。


## 使い方

### インストール方法

1. プラグインのフォルダを、`「data/other/plugin/」` へ入れてください。
2. `first.ks` 等に `[plugin]` タグを記述しプラグインを読み込みます。

#### パラメータ

| パラメータ名 | 必須 | 説明 | 初期値 |
| --- | :---: | --- | --- |
| ruby_list | × | ルビの連想配列が入っている変数名を指定。`tf.ruby` など。 |  |


**サンプルコード**
``` ks
[plugin name="mc_autoruby" ruby_list="tf.ruby"]
```

### 追加タグ

ありません。

### 連想配列の作り方

- key に漢字、value にルビを入力してください。
- 「CSV読込プラグイン」を使う場合は、フォーマットは「Object」にしてください。
- ティラノの変数はプラグイン読み込み後に削除します。

**サンプルコード**
``` ks
[iscript]
tf.ruby = {
	漢字: "かんじ",
	簡単: "かんたん",
	名前: "なまえ"
}
[endscript]
```

### 連想配列の登録順について

- ルビは配列の登録順にチェックしていくので、重複文字がある場合は登録順に気を付けてください。  
  文字数の多い単語から登録すると誤動作しにくいです。
- 逆にキャラ名欄は順番に上書きしていくので最後に登録するようにしてください。  
  また、苗字と名前を分けてルビを振る事ができません。苗字、名前、フルネームと3つ登録した方がいいです。
- 送り仮名で読み方が変わる文字は、送り仮名込みで登録するといいです。
- 送り仮名が同じで読み方が変わる文字は、使用頻度の少ない方を手動登録にしてください…。

**サンプルコード**  
``` ks
[iscript]
tf.ruby = {
	強制的: "きょうせいてき",       //優先（かなの文字数が多い場合は分けない方が綺麗）
	強制: "きょうせい",             //文字数少ない方を後にする
	的: "てき",
	健や: "すこ　　",               //送り仮名1文字あたり全角空白を2文字を入れると位置調整できます（力業！！）
	健か: "したた　　",             //同上
	名前太郎: "なまえたろう",       //キャラ名は最後にフルネームで登録。
	名前太郎: "なまえ　たろう",     //2文字あたりにカナ3なので、全角空白1文字入れておくと別々に振ってる感が出る。
	名前　太郎: "なまえ　　　たろう" //全角空白を3文字入れとくと綺麗…むずいね。
}
[endscript]
```

## 動作確認

ティラノスクリプト v514 / v515beta3


## 免責

このプラグインを使用したことにより生じた損害・損失に対して制作者は一切責任を負いません。


## 利用規約

 - 改造・再配布は自由です。ただし、有償での再配布は禁止します。  
 改造後データの配布も同様にお願いします。
 - 利用報告・クレジット表記は任意です。
 - このプラグインはドネーションウェア（カンパウェア）です。  
 お役に立てましたら寄付にてご支援を頂ければ幸いです。開発・運営費用とさせて頂きます。  


## 製作者

name ： hororo  
site ： めも調 [https://memocho.no-tenki.me/](https://memocho.no-tenki.me/)  
mail ： ruru.amu@gmail.com  
twitter ： @hororo_memocho  


## 更新履歴
| 更新日 | Ver | 詳細 |
| ---- | --- | --- |
| 2022/06/   | ver0.01 | β版。 |
